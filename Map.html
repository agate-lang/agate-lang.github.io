<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="v0.1">
<title>Map class</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./rouge-old_github.css">
  <meta name="keywords" content="Agate, programming language, scripting, gamedev" />
  <meta name="description" content="Agate, a simple and embeddable programming language" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1><code>Map</code> class</h1>
<div class="details">
<span id="author" class="author">v0.1</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_static_methods">Static Methods</a>
<ul class="sectlevel2">
<li><a href="#_new"><strong>new</strong>()</a></li>
</ul>
</li>
<li><a href="#_methods">Methods</a>
<ul class="sectlevel2">
<li><a href="#_at"><strong>at</strong>(key)</a></li>
<li><a href="#_clear"><strong>clear</strong>()</a></li>
<li><a href="#_clone"><strong>clone</strong>()</a></li>
<li><a href="#_contains"><strong>contains</strong>(key)</a></li>
<li><a href="#_erase"><strong>erase</strong>(key)</a></li>
<li><a href="#_insert"><strong>insert</strong>(key, value)</a></li>
<li><a href="#_iterate"><strong>iterate</strong>(iterator), <strong>iterator_value</strong>(iterator)</a></li>
<li><a href="#_keys"><strong>keys</strong></a></li>
<li><a href="#_size"><strong>size</strong></a></li>
<li><a href="#_to_s"><strong>to_s</strong></a></li>
<li><a href="#_values"><strong>values</strong></a></li>
</ul>
</li>
<li><a href="#_operators">Operators</a>
<ul class="sectlevel2">
<li><a href="#_subscript_getter"><strong>[</strong> key <strong>]</strong> operator</a></li>
<li><a href="#_subscript_setter"><strong>[</strong> key <strong>]=</strong>(value) operator</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A map is a <a href="Sequence.html"><code>Sequence</code></a> that stores key-value pairs, also called entries. A map is sometimes called an <a href="https://en.wikipedia.org/wiki/Associative_array">associative array</a>. Keys must implement a <code>.hash</code> method that returns an <a href="Int.html"><code>Int</code></a>. A map can be built with entries between <code>{</code> and <code>}</code>.</p>
</div>
<div class="paragraph">
<p><a href="core.html">&lt; Back to core unit</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_static_methods"><a class="anchor" href="#_static_methods"></a>Static Methods</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_new"><a class="anchor" href="#_new"></a><strong>new</strong>()</h3>
<div class="paragraph">
<p>Create a new empty map. It is equivalent to <code>{ }</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">.</span><span class="n">new</span><span class="p">()</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">empty</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; true</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; {}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_methods"><a class="anchor" href="#_methods"></a>Methods</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_at"><a class="anchor" href="#_at"></a><strong>at</strong>(key)</h3>
<div class="paragraph">
<p>Return the value associated with <code>key</code>. <code>key</code> must be present.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="k">true</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; 3.14</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also: <a href="#_subscript_getter"><strong>[</strong> key <strong>]</strong> operator</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_clear"><a class="anchor" href="#_clear"></a><strong>clear</strong>()</h3>
<div class="paragraph">
<p>Remove all the elements from the map.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="n">m</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; {}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clone"><a class="anchor" href="#_clone"></a><strong>clone</strong>()</h3>
<div class="paragraph">
<p>Get a deep copy of the map. The keys and values of the map must implement the <code>clone</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="k">def</span><span class="w"> </span><span class="n">m1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m0</span><span class="p">.</span><span class="n">clone</span><span class="p">()</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; {1: a, true: 3.14, good: nil}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_contains"><a class="anchor" href="#_contains"></a><strong>contains</strong>(key)</h3>
<div class="paragraph">
<p>Return <code>true</code> if <code>key</code> is present in the map.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; true</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s">"bad"</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; false</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_erase"><a class="anchor" href="#_erase"></a><strong>erase</strong>(key)</h3>
<div class="paragraph">
<p>Remove the entry whose key is <code>key</code>. Return the value of the entry, or <code>nil</code> if the <code>key</code> was not present in the map.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; a</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="s">"bad"</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; nil</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 2</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_insert"><a class="anchor" href="#_insert"></a><strong>insert</strong>(key, value)</h3>
<div class="paragraph">
<p>Insert an entry in the map. If <code>key</code> is present in the map, the value is replaced with <code>value</code> and the method returns <code>false</code>. Otherwise, a new entry with <code>key</code> and <code>value</code> is created and inserted in the map and the method returns <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="sc">'a'</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; true</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">))</span><span class="w"> </span><span class="c1">#&gt; false</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; {1: 3.14}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also: <a href="#_subscript_setter"><strong>[</strong> key <strong>]=</strong>(value) operator</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_iterate"><a class="anchor" href="#_iterate"></a><strong>iterate</strong>(iterator), <strong>iterator_value</strong>(iterator)</h3>
<div class="paragraph">
<p>Implement the <a href="lang.html#_iterator_protocol">iterator protocol</a> to iterate over the entries of the map.</p>
</div>
<div class="paragraph">
<p>Each entry is wrapped in a <code>MapEntry</code> object with <code>.key</code>, <code>.value</code> and <code>.to_s</code> methods. The order of entries is not guaranteed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">entry</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="err">
</span><span class="w">  </span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; MapEntry</span><span class="err">
</span><span class="w">  </span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 1</span><span class="err">
</span><span class="w">  </span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; a</span><span class="err">
</span><span class="w">  </span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 1: a</span><span class="err">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_keys"><a class="anchor" href="#_keys"></a><strong>keys</strong></h3>
<div class="paragraph">
<p>Return a <a href="Sequence.html"><code>Sequence</code></a> that can be used to iterate over the keys of the map. The order of the keys is not guaranteed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">keys</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="err">
</span><span class="w">  </span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 1</span><span class="err">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also: <a href="#_values"><strong>values</strong></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_size"><a class="anchor" href="#_size"></a><strong>size</strong></h3>
<div class="paragraph">
<p>Return the number of entries in the map.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 3</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_to_s"><a class="anchor" href="#_to_s"></a><strong>to_s</strong></h3>
<div class="paragraph">
<p>Transform the map to a <a href="String.html"><code>String</code></a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">to_s</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; {1: a, true: 3.14, good: nil}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_values"><a class="anchor" href="#_values"></a><strong>values</strong></h3>
<div class="paragraph">
<p>Return a <a href="Sequence.html"><code>Sequence</code></a> that can be used to iterate over the values of the map. The order of the values is not guaranteed. If the same value is associated with different keys, the value will appear several times.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">values</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="err">
</span><span class="w">  </span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; a</span><span class="err">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also: <a href="#_keys"><strong>keys</strong></a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operators"><a class="anchor" href="#_operators"></a>Operators</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_subscript_getter"><a class="anchor" href="#_subscript_getter"></a><strong>[</strong> key <strong>]</strong> operator</h3>
<div class="paragraph">
<p>Return the value associated with <code>key</code> if <code>key</code> is present, or <code>nil</code> otherwise.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="k">true</span><span class="p">])</span><span class="w"> </span><span class="c1">#&gt; 3.14</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s">"bad"</span><span class="p">])</span><span class="w"> </span><span class="c1">#&gt; nil</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also: <a href="#_subscript_setter"><strong>[</strong> key <strong>]=</strong>(value) operator</a>, <a href="#_at"><strong>at</strong>(key)</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_subscript_setter"><a class="anchor" href="#_subscript_setter"></a><strong>[</strong> key <strong>]=</strong>(value) operator</h3>
<div class="paragraph">
<p>Associate <code>value</code> to <code>key</code> in the map. If <code>key</code> is present in the map, the value is replaced with <code>value</code>. Otherwise, a new entry with <code>key</code> and <code>value</code> is created. Return <code>value</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="agate"><span class="k">def</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="sc">'a'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="s">"good"</span><span class="o">:</span><span class="w"> </span><span class="k">nil</span><span class="w"> </span><span class="p">}</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="k">true</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 42</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="k">nil</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[])</span><span class="w"> </span><span class="c1">#&gt; []</span><span class="err">
</span><span class="nc">IO</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="c1">#&gt; 4</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See also: <a href="#_subscript_getter"><strong>[</strong> key <strong>]</strong> operator</a>, <a href="#_insert"><strong>insert</strong>(key, value)</a></p>
</div>
</div>
</div>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>